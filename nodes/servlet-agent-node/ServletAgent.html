<script type="text/javascript" src="html_common_methods.js"></script>

<script type="text/javascript">

    RED.nodes.registerType('ServletAgent',{
        category: sensorAgentCategory,
        color: sensorAgentColor,
        defaults: {
            name: { value: sensorAgentName },
            agentId: { value: sensorAgentID },
            agentCurrentActionParametersInfo: { value: null },
        },
        inputs: sensorAgentNumberOfInputs,
        outputs: sensorAgentNumberOfOutputs,
        icon: sensorAgentIcon,
        label: sensorAgentLabel,

        oneditprepare : async function(){ 
            if(!this.SensorAgent){
                this.SensorAgent = new Agent(sensorAgentName,sensorAgentID);
            }
            await this.SensorAgent.oneditPrepareFunction();},
        oneditcancel  : function()      { this.SensorAgent.oneditCancelFunction(this);},
        oneditsave    : function()      { this.SensorAgent.oneditSaveFunction(this);}
    });
</script>
