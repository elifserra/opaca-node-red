<script type="text/javascript" src="html_common_methods.js"></script>

<script type="text/javascript">

    RED.nodes.registerType('WayFindingAgent',{
        category: wayFindingAgentCategory,
        color: wayFindingAgentColor,
        defaults: {
            name: { value: wayFindingAgentName },
            agentId: { value: wayFindingAgentID },
            agentCurrentActionParametersInfo: { value: null },
        },
        inputs: wayFindingAgentNumberOfInputs,
        outputs: wayFindingAgentNumberOfOutputs,
        icon: wayFindingAgentIcon,
        label: wayFindingAgentLabel,

        oneditprepare : async function(){ 
            if(!this.WayFindingAgent){
                this.WayFindingAgent = new Agent(wayFindingAgentName,wayFindingAgentID);
            }
            await this.WayFindingAgent.oneditPrepareFunction();
        },

        oneditcancel  : function()      { this.WayFindingAgent.oneditCancelFunction(this);},
        oneditsave    : function()      { this.WayFindingAgent.oneditSaveFunction(this);}
    });
</script>
