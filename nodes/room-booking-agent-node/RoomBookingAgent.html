<script type="text/javascript" src="html_common_methods.js"></script>

<script type="text/javascript">
    
    RED.nodes.registerType('RoomBookingAgent',{
        category: roomBookingAgentCategory,
        color: roomBookingAgentColor,
        defaults: {
            name: { value: roomBookingAgentName },
            agentId: { value: roomBookingAgentID },
            agentCurrentActionParametersInfo: { value: null },
        },
        inputs: roomBookingAgentNumberOfInputs,
        outputs: roomBookingAgentNumberOfOutputs,
        icon: roomBookingAgentIcon,
        label: roomBookingAgentLabel,

        oneditprepare : async function(){ 
            if(!this.RoomBookingAgent){
                this.RoomBookingAgent = new Agent(roomBookingAgentName,roomBookingAgentID);
            }
            await this.RoomBookingAgent.oneditPrepareFunction();},
        oneditcancel  : function()      { this.RoomBookingAgent.oneditCancelFunction(this);},
        oneditsave    : function()      { this.RoomBookingAgent.oneditSaveFunction(this);}
    });
</script>
