<script type="text/javascript" src="html_common_methods.js"></script>

<script type="text/javascript">

    RED.nodes.registerType('FridgeAgent',{
        category: fridgeAgentCategory,
        color: fridgeAgentColor,
        defaults: {
            name: { value: fridgeAgentName },
            agentId: { value: fridgeAgentID },
            agentCurrentActionParametersInfo: { value: null },
        },
        inputs: fridgeAgentNumberOfInputs,
        outputs: fridgeAgentNumberOfOutputs,
        icon: fridgeAgentIcon,
        label: fridgeAgentLabel,

        oneditprepare : async function(){ 
            if(!this.FridgeAgent){
                this.FridgeAgent = new Agent(fridgeAgentName,fridgeAgentID);
            }
            await this.FridgeAgent.oneditPrepareFunction();},
        oneditcancel  : function()      { this.FridgeAgent.oneditCancelFunction(this);},
        oneditsave    : function()      { this.FridgeAgent.oneditSaveFunction(this);}
    });
    
</script>
